(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{211:function(t,e,n){"use strict";var o=n(8),r=n(212)(5),l=!0;"find"in[]&&Array(1).find((function(){l=!1})),o(o.P+o.F*l,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(82)("find")},212:function(t,e,n){var o=n(36),r=n(81),l=n(37),c=n(29),d=n(213);t.exports=function(t,e){var n=1==t,f=2==t,v=3==t,m=4==t,h=6==t,w=5==t||h,x=e||d;return function(e,d,_){for(var y,z,D=l(e),B=r(D),C=o(d,_,3),k=c(B.length),A=0,P=n?x(e,k):f?x(e,0):void 0;k>A;A++)if((w||A in B)&&(z=C(y=B[A],A,D),t))if(n)P[A]=z;else if(z)switch(t){case 3:return!0;case 5:return y;case 6:return A;case 2:P.push(y)}else if(m)return!1;return h?-1:v||m?m:P}}},213:function(t,e,n){var o=n(214);t.exports=function(t,e){return new(o(t))(e)}},214:function(t,e,n){var o=n(15),r=n(123),l=n(4)("species");t.exports=function(t){var e;return r(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!r(e.prototype)||(e=void 0),o(e)&&null===(e=e[l])&&(e=void 0)),void 0===e?Array:e}},220:function(t,e,n){var content=n(249);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(19).default)("405d04e6",content,!0,{sourceMap:!1})},248:function(t,e,n){"use strict";var o=n(220);n.n(o).a},249:function(t,e,n){(e=n(18)(!1)).push([t.i,'.popup[data-v-a73d1f4c]{position:fixed;left:0;z-index:99}.popup[data-v-a73d1f4c],.popup-main[data-v-a73d1f4c]{top:0;right:0;bottom:0}.popup-main[data-v-a73d1f4c]{background-color:#fff;margin:auto;position:absolute;max-width:400px;height:460px;left:260px;z-index:1;border-radius:5px}.popup-body[data-v-a73d1f4c]{height:300px;overflow:auto;padding:30px}.popup-title[data-v-a73d1f4c]{padding:30px 30px 16px;border-bottom:1px solid rgba(0,0,0,.14118)}.popup-action[data-v-a73d1f4c]{position:absolute;bottom:0;width:100%;display:-webkit-box;display:flex;justify-content:space-around;padding:25px;box-shadow:0 -7px 10px 0 rgba(0,0,0,.05098)}.popup[data-v-a73d1f4c]:after{background-color:rgba(0,0,0,.83);margin:auto;position:absolute;content:"";left:0;right:0;top:0;bottom:0}input[data-v-a73d1f4c],select[data-v-a73d1f4c]{height:35px;margin:0 10px 10px 0;border-radius:0;outline:none;width:100%;font-size:1rem;padding:.6rem 1rem;box-shadow:none;-webkit-transition:all .3s;transition:all .3s}',""]),t.exports=e},310:function(t,e,n){"use strict";n.r(e);n(27),n(211);var o={data:function(){return{allBanners:[],origin:window.location.origin+"/",showDropdown:!1,columns:[{label:"Title",field:"name"},{label:"Description",field:"description"},{label:"URL",field:"url"},{label:"Action",field:"action"}],name:"",description:"",status:1,image:"",url:""}},mounted:function(){this.getAllBanner();var t=this;Dropzone.autoDiscover=!1,this.myDropzone=new Dropzone("div#myDrop",{paramName:"file",autoProcessQueue:!0,parallelUploads:1,maxFiles:1,maxFilesize:5,acceptedFiles:".png, .jpeg, .jpg",url:t.$store.state.api.bannerImageUpload,headers:{"Cache-Control":null,"X-Requested-With":null},renameFilename:function(t){return console.log(t),console.log("zzzzzzzzzzzzzzz"),(new Date).getTime()+"_"+t}}),this.myDropzone.on("sending",(function(t,e,n){var o=[];console.log("success"),$(".dz-preview .dz-filename").each((function(){o.push($(this).find("span").text())})),n.append("filenames",o)})),this.myDropzone.on("success",(function(e,n){console.log("success"),console.log(e,n),console.log(e),n.filenames.forEach((function(e,n){t.image=e.filename}))})),this.myDropzone.on("error",(function(data){$("#msg").html('<div class="alert alert-danger">There is some thing wrong, Please try again!</div>')})),this.myDropzone.on("complete",(function(t){})),this.myDropzone.on("removedfile",(function(e){console.log(e),t.image=""})),this.myDropzone.on("addedfile",(function(t){for(console.log("added file"),console.log(this.files.length),console.log(this.options.maxFiles);this.files.length>this.options.maxFiles;)this.removeFile(this.files[0])})),$("#add_file").on("click",(function(){console.log("success"),this.myDropzone.processQueue()}))},methods:{getAllBanner:function(){var t=this;this.$store.dispatch("getAllBanner").then((function(e){console.log(e);try{t.allBanners=JSON.parse(JSON.stringify(e.data.body))}catch(t){}}))},addBanner:function(){var t=this,e={name:this.name,description:this.description,status:this.status,image:this.image,url:this.url};this.$store.dispatch("addBanner",e).then((function(e){console.log(e),t.getAllBanner(),t.closeDropdownPanel()}))},viewBanner:function(t){window.open("https://www.wenslink.com/media/banners/"+t)},deleteBanner:function(t){var e=this;this.$store.dispatch("editDeleteBanner",t).then((function(t){console.log(t),e.getAllBanner()}))},openDropdownPanel:function(){this.showDropdown=!0},closeDropdownPanel:function(){this.showDropdown=!1,this.name="",this.description="",this.myDropzone.removeAllFiles()}}},r=(n(248),n(14)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"navbar-spacing padding-top-30"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showDropdown,expression:"showDropdown"}],staticClass:"popup"},[n("div",{staticClass:"popup-main"},[t._m(0),t._v(" "),n("div",{staticClass:"popup-body"},[n("div",{staticClass:"form-control"},[n("label",[t._v("Banner Name")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticStyle:{width:"70%"},attrs:{type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-control"},[n("label",[t._v("Banner Description (Optional)")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticStyle:{width:"70%"},attrs:{type:"text"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),t._v(" "),t._m(1),t._v(" "),n("div",{staticClass:"form-control"},[n("label",[t._v("URL")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.url,expression:"url"}],staticStyle:{width:"70%"},attrs:{type:"text"},domProps:{value:t.url},on:{input:function(e){e.target.composing||(t.url=e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"popup-action"},[n("div",{staticClass:"pointer",on:{click:t.addBanner}},[t._v("Save")]),t._v(" "),n("div",{staticClass:"pointer",on:{click:t.closeDropdownPanel}},[t._v("Cancel")])])])]),t._v(" "),n("div",{staticClass:"specification"},[n("div",{staticClass:"holder"},[n("div",{staticClass:"column-padding header-bottom",staticStyle:{display:"flex","justify-content":"space-between"}},[n("h3",[t._v("Main Banner Images")]),t._v(" "),n("button",{staticClass:"btn btn-red white-text",on:{click:t.openDropdownPanel}},[t._v("\n          Add Banner\n        ")])]),t._v(" "),n("div",{staticClass:"row"},[n("vue-good-table",{attrs:{columns:t.columns,rows:t.allBanners,"line-numbers":!0},scopedSlots:t._u([{key:"table-row",fn:function(e){return["action"===e.column.field?n("span",[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(n){return t.viewBanner(e.row.image)}}},[t._v("\n                View Banner\n              ")]),t._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(n){return t.deleteBanner(e.row.id)}}},[t._v("\n                Delete\n              ")])]):t._e(),t._v(" "),"url"===e.column.field?n("span",[n("a",{attrs:{target:"_blank",href:t.origin+e.row.url}},[t._v(t._s(t.origin)+t._s(e.row.url))])]):n("span",[t._v(t._s(e.formattedRow[e.column.field]))])]}}])})],1)])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"popup-title"},[e("h3",[this._v("Upload Banner")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{margin:"0 10px 10px 0"}},[e("label",[this._v("Banner Image")]),this._v(" "),e("div",{staticClass:"dropzone dz-clickable",attrs:{id:"myDrop"}},[e("div",{staticClass:"dz-default dz-message",attrs:{"data-dz-message":""}},[e("span",[this._v("Drop files here to upload")])])])])}],!1,null,"a73d1f4c",null);e.default=component.exports}}]);