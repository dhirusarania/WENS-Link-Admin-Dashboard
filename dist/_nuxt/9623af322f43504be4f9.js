(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{304:function(t,e,o){"use strict";o.r(e);var n={name:"my-component",data:function(){return{columns:[{label:"Seller Name",field:"seller_id.name"},{label:"Seller Phone",field:"seller_id.phone_number"},{label:"Image",field:"image"},{label:"Product Name",field:"product_id.product_name"},{label:"Brand",field:"product_id.brand"},{label:"Category",field:"product_id.category.name"},{label:"Status",field:"status"},{label:"Approved By",field:"approved_by"},{label:"Action",field:"action"}],rows:[{id:1,name:"Mobile",age:20,createdAt:"2011-10-31",details:"<p>asa</p>"}],allproducts:[],baseurl:"https://www.wenslink.com",next:"",prev:"",limit:10,offset:0,pagination_buttons:0,center_buttons:[],max_count:0,max_count_value:0}},mounted:function(){this.offset_count()},methods:{offset_count:function(){this.limit,this.offset;this.getAllProducts()},getAllProducts:function(){var t=this,e=this.limit,o=this.offset;this.$store.dispatch("allProductsRequests",{limit:e,offset:o}).then((function(e){console.log(e),t.allproducts=JSON.parse(JSON.stringify(e.data.results));for(var i=0;i<t.allproducts.length;i++)t.allproducts[i].product_id.images=JSON.parse(t.allproducts[i].product_id.images)}))},deleteProduct:function(t){var e=this;this.$store.dispatch("deleteProduct",t).then((function(t){console.log(t),e.getAllProducts()}))},changeProductStatus:function(t,e,o,n,l){var r=this;console.log("product_name"),console.log(e);var c={id:t,product_name:e,sku:n,number:o,status:l};this.$store.dispatch("changeProductStatus",c).then((function(t){console.log(t),r.getAllProducts()}))},next_page:function(){this.offset=this.offset+this.limit,this.offset>this.max_count&&(this.offset=parseInt(this.max_count/this.limit)*this.limit);this.limit,this.offset;this.getAllProducts()},prev_page:function(){this.offset=this.offset-this.limit,this.offset<0&&(this.offset=0);this.limit,this.offset;this.getAllProducts()},change_limit:function(){this.offset=0,this.limit=parseInt(this.limit);parseInt(this.limit),this.offset;this.getAllProducts()}}},l=o(17),component=Object(l.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"navbar-spacing padding-top-30"},[o("div",{staticClass:"specification"},[o("div",{staticClass:"holder"},[t._m(0),t._v(" "),o("div",{staticClass:"row"},[o("vue-good-table",{attrs:{columns:t.columns,rows:t.allproducts.slice().reverse(),"line-numbers":!0},scopedSlots:t._u([{key:"table-row",fn:function(e){return["image"===e.column.field?o("span",[o("img",{staticStyle:{width:"40px",height:"40px","object-fit":"contain"},attrs:{src:t.baseurl+"/media/products/"+e.row.product_id.images[0]}})]):"status"===e.column.field?o("span",[1==e.row.status?o("p",{staticStyle:{color:"#009688","font-weight":"bold"}},[t._v("\n                APPROVED\n              ")]):t._e(),t._v(" "),2==e.row.status?o("p",{staticStyle:{color:"#F44336","font-weight":"bold"}},[t._v("\n                REJECTED\n              ")]):t._e(),t._v(" "),0==e.row.status?o("p",[t._v("\n                PENDING\n              ")]):t._e()]):"approved_by"===e.column.field?o("span",[e.row.approved_by?o("p",[t._v("\n                "+t._s(e.row.approved_by.name)+"\n              ")]):t._e()]):"action"===e.column.field?o("span",[null!=e.row.seller_id?o("div",[0==e.row.status||2==e.row.status?o("button",{staticClass:"btn btn-success white-text",attrs:{type:"button"},on:{click:function(o){return t.changeProductStatus(e.row.id,e.row.product_id.product_name,e.row.seller_id.phone_number,e.row.sku,1)}}},[t._v("\n                  APPROVE\n                ")]):t._e(),t._v(" "),0==e.row.status||1==e.row.status?o("button",{staticClass:"btn btn-red white-text",attrs:{type:"button"},on:{click:function(o){return t.changeProductStatus(e.row.id,e.row.product_id.product_name,e.row.seller_id.phone_number,e.row.sku,2)}}},[t._v("\n                  REJECT\n                ")]):t._e()]):o("div",[o("p",[t._v("Seller Not Available")])])]):o("span",[t._v(t._s(e.formattedRow[e.column.field]))])]}}])}),t._v(" "),o("div",{staticClass:"pagination_buttons"},[o("div",{staticClass:"limit"},[o("select",{directives:[{name:"model",rawName:"v-model",value:t.limit,expression:"limit"}],on:{change:[function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.limit=e.target.multiple?o:o[0]},t.change_limit]}},[o("option",[t._v("10")]),t._v(" "),o("option",[t._v("25")]),t._v(" "),o("option",[t._v("50")]),t._v(" "),o("option",[t._v("100")])]),t._v(" "),o("p",[t._v("Page "+t._s(t.offset/t.limit+1))])]),t._v(" "),o("div",{staticClass:"pagin"},[0!=t.offset?o("div",{staticClass:"btn btn-success",on:{click:t.prev_page}},[t._v("\n              Prev\n            ")]):t._e(),t._v(" "),t.offset!=t.max_count_value?o("div",{staticClass:"btn btn-success",on:{click:t.next_page}},[t._v("\n              Next\n            ")]):t._e()])])],1)])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column-padding header-bottom",staticStyle:{display:"flex","justify-content":"space-between"}},[e("h3",{staticStyle:{display:"flex","align-items":"center","padding-left":"0","padding-bottom":"0"}},[this._v("\n          Product Approval Requests\n        ")])])}],!1,null,null,null);e.default=component.exports}}]);