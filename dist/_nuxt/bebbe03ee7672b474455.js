(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{218:function(e,t,n){"use strict";var o=n(8),r=n(219)(5),l=!0;"find"in[]&&Array(1).find((function(){l=!1})),o(o.P+o.F*l,"Array",{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n(86)("find")},219:function(e,t,n){var o=n(34),r=n(85),l=n(35),c=n(25),d=n(220);e.exports=function(e,t){var n=1==e,f=2==e,v=3==e,m=4==e,h=6==e,w=5==e||h,x=t||d;return function(t,d,_){for(var y,z,D=l(t),B=r(D),C=o(d,_,3),k=c(B.length),A=0,P=n?x(t,k):f?x(t,0):void 0;k>A;A++)if((w||A in B)&&(z=C(y=B[A],A,D),e))if(n)P[A]=z;else if(z)switch(e){case 3:return!0;case 5:return y;case 6:return A;case 2:P.push(y)}else if(m)return!1;return h?-1:v||m?m:P}}},220:function(e,t,n){var o=n(221);e.exports=function(e,t){return new(o(e))(t)}},221:function(e,t,n){var o=n(16),r=n(132),l=n(4)("species");e.exports=function(e){var t;return r(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!r(t.prototype)||(t=void 0),o(t)&&null===(t=t[l])&&(t=void 0)),void 0===t?Array:t}},227:function(e,t,n){var content=n(264);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(22).default)("232420ba",content,!0,{sourceMap:!1})},263:function(e,t,n){"use strict";var o=n(227);n.n(o).a},264:function(e,t,n){(t=n(21)(!1)).push([e.i,'.popup[data-v-133cea3f]{position:fixed;left:0;z-index:99}.popup[data-v-133cea3f],.popup-main[data-v-133cea3f]{top:0;right:0;bottom:0}.popup-main[data-v-133cea3f]{background-color:#fff;margin:auto;position:absolute;max-width:400px;height:460px;left:260px;z-index:1;border-radius:5px}.popup-body[data-v-133cea3f]{height:300px;overflow:auto;padding:30px}.popup-title[data-v-133cea3f]{padding:30px 30px 16px;border-bottom:1px solid rgba(0,0,0,.14118)}.popup-action[data-v-133cea3f]{position:absolute;bottom:0;width:100%;display:flex;justify-content:space-around;padding:25px;box-shadow:0 -7px 10px 0 rgba(0,0,0,.05098)}.popup[data-v-133cea3f]:after{background-color:rgba(0,0,0,.83);margin:auto;position:absolute;content:"";left:0;right:0;top:0;bottom:0}input[data-v-133cea3f],select[data-v-133cea3f]{height:35px;margin:0 10px 10px 0;border-radius:0;outline:none;width:100%;font-size:1rem;padding:.6rem 1rem;box-shadow:none;transition:all .3s}',""]),e.exports=t},334:function(e,t,n){"use strict";n.r(t);n(15),n(218);var o={data:function(){return{allBanners:[],origin:window.location.origin+"/",showDropdown:!1,columns:[{label:"Title",field:"name"},{label:"Description",field:"description"},{label:"URL",field:"url"},{label:"Action",field:"action"}],name:"",description:"",status:1,image:"",url:""}},mounted:function(){this.getAllBanner();var e=this;Dropzone.autoDiscover=!1,this.myDropzone=new Dropzone("div#myDrop",{paramName:"file",autoProcessQueue:!0,parallelUploads:1,maxFiles:1,maxFilesize:5,acceptedFiles:".png, .jpeg, .jpg",url:e.$store.state.api.bannerImageUpload,headers:{"Cache-Control":null,"X-Requested-With":null},renameFilename:function(e){return console.log(e),console.log("zzzzzzzzzzzzzzz"),(new Date).getTime()+"_"+e}}),this.myDropzone.on("sending",(function(e,t,n){var o=[];console.log("success"),$(".dz-preview .dz-filename").each((function(){o.push($(this).find("span").text())})),n.append("filenames",o)})),this.myDropzone.on("success",(function(t,n){console.log("success"),console.log(t,n),console.log(t),n.filenames.forEach((function(t,n){e.image=t.filename}))})),this.myDropzone.on("error",(function(data){$("#msg").html('<div class="alert alert-danger">There is some thing wrong, Please try again!</div>')})),this.myDropzone.on("complete",(function(e){})),this.myDropzone.on("removedfile",(function(t){console.log(t),e.image=""})),this.myDropzone.on("addedfile",(function(e){for(console.log("added file"),console.log(this.files.length),console.log(this.options.maxFiles);this.files.length>this.options.maxFiles;)this.removeFile(this.files[0])})),$("#add_file").on("click",(function(){console.log("success"),this.myDropzone.processQueue()}))},methods:{getAllBanner:function(){var e=this;this.$store.dispatch("getAllBanner").then((function(t){console.log(t);try{e.allBanners=JSON.parse(JSON.stringify(t.data.body))}catch(e){}}))},addBanner:function(){var e=this,t={name:this.name,description:this.description,status:this.status,image:this.image,url:this.url};this.$store.dispatch("addBanner",t).then((function(t){console.log(t),e.getAllBanner(),e.closeDropdownPanel()}))},viewBanner:function(e){window.open("https://www.wenslink.com/media/banners/"+e)},deleteBanner:function(e){var t=this;this.$store.dispatch("editDeleteBanner",e).then((function(e){console.log(e),t.getAllBanner()}))},openDropdownPanel:function(){this.showDropdown=!0},closeDropdownPanel:function(){this.showDropdown=!1,this.name="",this.description="",this.myDropzone.removeAllFiles()}}},r=(n(263),n(14)),component=Object(r.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"navbar-spacing padding-top-30"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.showDropdown,expression:"showDropdown"}],staticClass:"popup"},[n("div",{staticClass:"popup-main"},[e._m(0),e._v(" "),n("div",{staticClass:"popup-body"},[n("div",{staticClass:"form-control"},[n("label",[e._v("Banner Name")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticStyle:{width:"70%"},attrs:{type:"text"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"form-control"},[n("label",[e._v("Banner Description (Optional)")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.description,expression:"description"}],staticStyle:{width:"70%"},attrs:{type:"text"},domProps:{value:e.description},on:{input:function(t){t.target.composing||(e.description=t.target.value)}}})]),e._v(" "),e._m(1),e._v(" "),n("div",{staticClass:"form-control"},[n("label",[e._v("URL")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.url,expression:"url"}],staticStyle:{width:"70%"},attrs:{type:"text"},domProps:{value:e.url},on:{input:function(t){t.target.composing||(e.url=t.target.value)}}})])]),e._v(" "),n("div",{staticClass:"popup-action"},[n("div",{staticClass:"pointer",on:{click:e.addBanner}},[e._v("Save")]),e._v(" "),n("div",{staticClass:"pointer",on:{click:e.closeDropdownPanel}},[e._v("Cancel")])])])]),e._v(" "),n("div",{staticClass:"specification"},[n("div",{staticClass:"holder"},[n("div",{staticClass:"column-padding header-bottom",staticStyle:{display:"flex","justify-content":"space-between"}},[n("h3",[e._v("Main Banner Images")]),e._v(" "),n("button",{staticClass:"btn btn-red white-text",on:{click:e.openDropdownPanel}},[e._v("\n          Add Banner\n        ")])]),e._v(" "),n("div",{staticClass:"row"},[n("vue-good-table",{attrs:{columns:e.columns,rows:e.allBanners,"line-numbers":!0},scopedSlots:e._u([{key:"table-row",fn:function(t){return["action"===t.column.field?n("span",[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(n){return e.viewBanner(t.row.image)}}},[e._v("\n                View Banner\n              ")]),e._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(n){return e.deleteBanner(t.row.id)}}},[e._v("\n                Delete\n              ")])]):e._e(),e._v(" "),"url"===t.column.field?n("span",[n("a",{attrs:{target:"_blank",href:e.origin+t.row.url}},[e._v(e._s(e.origin)+e._s(t.row.url))])]):n("span",[e._v(e._s(t.formattedRow[t.column.field]))])]}}])})],1)])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"popup-title"},[t("h3",[this._v("Upload Banner")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{margin:"0 10px 10px 0"}},[t("label",[this._v("Banner Image")]),this._v(" "),t("div",{staticClass:"dropzone dz-clickable",attrs:{id:"myDrop"}},[t("div",{staticClass:"dz-default dz-message",attrs:{"data-dz-message":""}},[t("span",[this._v("Drop files here to upload")])])])])}],!1,null,"133cea3f",null);t.default=component.exports}}]);